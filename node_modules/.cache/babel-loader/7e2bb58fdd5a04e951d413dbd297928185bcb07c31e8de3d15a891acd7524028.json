{"ast":null,"code":"var _jsxFileName = \"/Users/yuxuan/Desktop/projects/around-web/src/components/Register.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { Form, Input, Button, message } from \"antd\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../constants\";\n\n// (mobile) responsiveness design\n// 根据浏览器的长款变换显示的大小\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 8\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 16\n    }\n  }\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 16,\n      offset: 0\n    },\n    sm: {\n      span: 16,\n      offset: 8\n    }\n  }\n};\nfunction Register(props) {\n  _s();\n  const [form] = Form.useForm();\n  const onFinish = values => {\n    console.log(\"Received values of form: \", values);\n    const {\n      username,\n      password\n    } = values;\n    const opt = {\n      method: \"POST\",\n      url: `${BASE_URL}/signup`,\n      data: {\n        username: username,\n        password: password\n      },\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    };\n    axios(opt).then(response => {\n      console.log(response);\n      // case1: registered success\n      if (response.status === 200) {\n        message.success(\"Registration succeed!\");\n        props.history.push(\"/login\");\n      }\n    }).catch(error => {\n      console.log(\"register failed: \", error.message);\n      message.error(\"Registration failed!\");\n      // throw new Error('Signup Failed!')\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Form, {\n    ...formItemLayout,\n    form: form,\n    name: \"register\",\n    onFinish: onFinish,\n    className: \"register\",\n    children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"username\",\n      label: \"Username\",\n      rules: [{\n        required: true,\n        message: \"Please input your Username!\"\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"password\",\n      label: \"Password\",\n      rules: [{\n        required: true,\n        message: \"Please input your password!\"\n      }],\n      hasFeedback: true,\n      children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"confirm\",\n      label: \"Confirm Password\",\n      dependencies: [\"password\"],\n      hasFeedback: true,\n      rules: [{\n        required: true,\n        message: \"Please confirm your password!\"\n      }, ({\n        getFieldValue\n      }) => ({\n        validator(rule, value) {\n          if (!value || getFieldValue(\"password\") === value) {\n            return Promise.resolve();\n          }\n          return Promise.reject(\"The two passwords that you entered do not match!\");\n        }\n      })],\n      children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      ...tailFormItemLayout,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        className: \"register-btn\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"rI7DrJIrFu7YmlGWYiMFTzs8jF0=\", false, function () {\n  return [Form.useForm];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","Form","Input","Button","message","axios","BASE_URL","jsxDEV","_jsxDEV","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","Register","props","_s","form","useForm","onFinish","values","console","log","username","password","opt","method","url","data","headers","then","response","status","success","history","push","catch","error","name","className","children","Item","label","rules","required","fileName","_jsxFileName","lineNumber","columnNumber","hasFeedback","Password","dependencies","getFieldValue","validator","rule","value","Promise","resolve","reject","type","htmlType","_c","$RefreshReg$"],"sources":["/Users/yuxuan/Desktop/projects/around-web/src/components/Register.js"],"sourcesContent":["import React from \"react\";\nimport { Form, Input, Button, message } from \"antd\";\nimport axios from \"axios\";\n\nimport { BASE_URL } from \"../constants\";\n\n// (mobile) responsiveness design\n// 根据浏览器的长款变换显示的大小\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 16,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nfunction Register(props) {\n  const [form] = Form.useForm();\n\n  const onFinish = (values) => {\n    console.log(\"Received values of form: \", values);\n    const { username, password } = values;\n    const opt = {\n      method: \"POST\",\n      url: `${BASE_URL}/signup`,\n      data: {\n        username: username,\n        password: password,\n      },\n      headers: { \"content-type\": \"application/json\" },\n    };\n\n    axios(opt)\n      .then((response) => {\n        console.log(response);\n        // case1: registered success\n        if (response.status === 200) {\n          message.success(\"Registration succeed!\");\n          props.history.push(\"/login\");\n        }\n      })\n      .catch((error) => {\n        console.log(\"register failed: \", error.message);\n        message.error(\"Registration failed!\");\n        // throw new Error('Signup Failed!')\n      });\n  };\n\n  return (\n    <Form\n      {...formItemLayout}\n      form={form}\n      name=\"register\"\n      onFinish={onFinish}\n      className=\"register\"\n    >\n      <Form.Item\n        name=\"username\"\n        label=\"Username\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input your Username!\",\n          },\n        ]}\n      >\n        <Input />\n      </Form.Item>\n\n      <Form.Item\n        name=\"password\"\n        label=\"Password\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input your password!\",\n          },\n        ]}\n        hasFeedback\n      >\n        <Input.Password />\n      </Form.Item>\n\n      <Form.Item\n        name=\"confirm\"\n        label=\"Confirm Password\"\n        dependencies={[\"password\"]}\n        hasFeedback\n        rules={[\n          {\n            required: true,\n            message: \"Please confirm your password!\",\n          },\n          ({ getFieldValue }) => ({\n            validator(rule, value) {\n              if (!value || getFieldValue(\"password\") === value) {\n                return Promise.resolve();\n              }\n              return Promise.reject(\n                \"The two passwords that you entered do not match!\"\n              );\n            },\n          }),\n        ]}\n      >\n        <Input.Password />\n      </Form.Item>\n\n      <Form.Item {...tailFormItemLayout}>\n        <Button type=\"primary\" htmlType=\"submit\" className=\"register-btn\">\n          Register\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}