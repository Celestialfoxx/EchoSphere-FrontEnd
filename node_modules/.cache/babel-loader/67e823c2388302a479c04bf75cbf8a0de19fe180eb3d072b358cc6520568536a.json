{"ast":null,"code":"import React from\"react\";import{Form,Input,Button,message}from\"antd\";import{UserOutlined,LockOutlined}from\"@ant-design/icons\";import{Link}from\"react-router-dom\";import axios from\"axios\";import{BASE_URL}from\"../constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(props){const{handleLoggedIn}=props;const onFinish=values=>{const{username,password}=values;const opt={method:\"POST\",url:\"\".concat(BASE_URL,\"/signin\"),data:{username:username,password:password},headers:{\"Content-Type\":\"application/json\"}};axios(opt).then(res=>{if(res.status===200){const{data}=res;handleLoggedIn(data);message.success(\"Login succeed! \");}}).catch(err=>{console.log(\"login failed: \",err.message);message.error(\"Login failed!\");});};return/*#__PURE__*/_jsxs(Form,{name:\"normal_login\",className:\"login-form\",onFinish:onFinish,children:[/*#__PURE__*/_jsx(Form.Item,{name:\"username\",rules:[{required:true,message:\"Please input your Username!\"}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(UserOutlined,{className:\"site-form-item-icon\"}),placeholder:\"Username\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",rules:[{required:true,message:\"Please input your Password!\"}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(LockOutlined,{className:\"site-form-item-icon\"}),type:\"password\",placeholder:\"Password\"})}),/*#__PURE__*/_jsxs(Form.Item,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",className:\"login-form-button\",children:\"sign in\"}),\"Or \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Create new account\"})]})]});}export default Login;","map":{"version":3,"names":["React","Form","Input","Button","message","UserOutlined","LockOutlined","Link","axios","BASE_URL","jsx","_jsx","jsxs","_jsxs","Login","props","handleLoggedIn","onFinish","values","username","password","opt","method","url","concat","data","headers","then","res","status","success","catch","err","console","log","error","name","className","children","Item","rules","required","prefix","placeholder","type","htmlType","to"],"sources":["/Users/yuxuan/Desktop/projects/around-web/src/components/Login.js"],"sourcesContent":["import React from \"react\";\nimport { Form, Input, Button, message } from \"antd\";\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport { BASE_URL } from \"../constants\";\n\nfunction Login(props) {\n const { handleLoggedIn } = props;\n\n const onFinish = (values) => {\n   const { username, password } = values;\n   const opt = {\n     method: \"POST\",\n     url: `${BASE_URL}/signin`,\n     data: {\n       username: username,\n       password: password\n     },\n     headers: { \"Content-Type\": \"application/json\" }\n   };\n   axios(opt)\n     .then((res) => {\n       if (res.status === 200) {\n         const { data } = res;\n         handleLoggedIn(data);\n         message.success(\"Login succeed! \");\n       }\n     })\n     .catch((err) => {\n       console.log(\"login failed: \", err.message);\n       message.error(\"Login failed!\");\n     });\n };\n\n return (\n   <Form name=\"normal_login\" className=\"login-form\" onFinish={onFinish}>\n     <Form.Item\n       name=\"username\"\n       rules={[\n         {\n           required: true,\n           message: \"Please input your Username!\"\n         }\n       ]}\n     >\n       <Input\n         prefix={<UserOutlined className=\"site-form-item-icon\" />}\n         placeholder=\"Username\"\n       />\n     </Form.Item>\n     <Form.Item\n       name=\"password\"\n       rules={[\n         {\n           required: true,\n           message: \"Please input your Password!\"\n         }\n       ]}\n     >\n       <Input\n         prefix={<LockOutlined className=\"site-form-item-icon\" />}\n         type=\"password\"\n         placeholder=\"Password\"\n       />\n     </Form.Item>\n\n     <Form.Item>\n       <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n         sign in\n       </Button>\n       Or <Link to=\"/register\">Create new account</Link>\n     </Form.Item>\n   </Form>\n );\n}\n\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,KAAK,CAAEC,MAAM,CAAEC,OAAO,KAAQ,MAAM,CACnD,OAASC,YAAY,CAAEC,YAAY,KAAQ,mBAAmB,CAC9D,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,OAASC,QAAQ,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,KAAKA,CAACC,KAAK,CAAE,CACrB,KAAM,CAAEC,cAAe,CAAC,CAAGD,KAAK,CAEhC,KAAM,CAAAE,QAAQ,CAAIC,MAAM,EAAK,CAC3B,KAAM,CAAEC,QAAQ,CAAEC,QAAS,CAAC,CAAGF,MAAM,CACrC,KAAM,CAAAG,GAAG,CAAG,CACVC,MAAM,CAAE,MAAM,CACdC,GAAG,IAAAC,MAAA,CAAKf,QAAQ,WAAS,CACzBgB,IAAI,CAAE,CACJN,QAAQ,CAAEA,QAAQ,CAClBC,QAAQ,CAAEA,QACZ,CAAC,CACDM,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CACDlB,KAAK,CAACa,GAAG,CAAC,CACPM,IAAI,CAAEC,GAAG,EAAK,CACb,GAAIA,GAAG,CAACC,MAAM,GAAK,GAAG,CAAE,CACtB,KAAM,CAAEJ,IAAK,CAAC,CAAGG,GAAG,CACpBZ,cAAc,CAACS,IAAI,CAAC,CACpBrB,OAAO,CAAC0B,OAAO,CAAC,iBAAiB,CAAC,CACpC,CACF,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,EAAK,CACdC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEF,GAAG,CAAC5B,OAAO,CAAC,CAC1CA,OAAO,CAAC+B,KAAK,CAAC,eAAe,CAAC,CAChC,CAAC,CAAC,CACN,CAAC,CAED,mBACEtB,KAAA,CAACZ,IAAI,EAACmC,IAAI,CAAC,cAAc,CAACC,SAAS,CAAC,YAAY,CAACpB,QAAQ,CAAEA,QAAS,CAAAqB,QAAA,eAClE3B,IAAA,CAACV,IAAI,CAACsC,IAAI,EACRH,IAAI,CAAC,UAAU,CACfI,KAAK,CAAE,CACL,CACEC,QAAQ,CAAE,IAAI,CACdrC,OAAO,CAAE,6BACX,CAAC,CACD,CAAAkC,QAAA,cAEF3B,IAAA,CAACT,KAAK,EACJwC,MAAM,cAAE/B,IAAA,CAACN,YAAY,EAACgC,SAAS,CAAC,qBAAqB,CAAE,CAAE,CACzDM,WAAW,CAAC,UAAU,CACvB,CAAC,CACO,CAAC,cACZhC,IAAA,CAACV,IAAI,CAACsC,IAAI,EACRH,IAAI,CAAC,UAAU,CACfI,KAAK,CAAE,CACL,CACEC,QAAQ,CAAE,IAAI,CACdrC,OAAO,CAAE,6BACX,CAAC,CACD,CAAAkC,QAAA,cAEF3B,IAAA,CAACT,KAAK,EACJwC,MAAM,cAAE/B,IAAA,CAACL,YAAY,EAAC+B,SAAS,CAAC,qBAAqB,CAAE,CAAE,CACzDO,IAAI,CAAC,UAAU,CACfD,WAAW,CAAC,UAAU,CACvB,CAAC,CACO,CAAC,cAEZ9B,KAAA,CAACZ,IAAI,CAACsC,IAAI,EAAAD,QAAA,eACR3B,IAAA,CAACR,MAAM,EAACyC,IAAI,CAAC,SAAS,CAACC,QAAQ,CAAC,QAAQ,CAACR,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAC,SAEvE,CAAQ,CAAC,MACN,cAAA3B,IAAA,CAACJ,IAAI,EAACuC,EAAE,CAAC,WAAW,CAAAR,QAAA,CAAC,oBAAkB,CAAM,CAAC,EACxC,CAAC,EACR,CAAC,CAEV,CAEA,cAAe,CAAAxB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}